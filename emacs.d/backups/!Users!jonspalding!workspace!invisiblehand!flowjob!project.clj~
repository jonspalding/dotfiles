(defproject flowjob "0.1.0-SNAPSHOT"
  :repl-options {:init-ns flowjob.repl}
  :dependencies [[org.clojure/clojure "1.6.0"]
                 [org.clojure/core.async "0.1.303.0-886421-alpha"]
                 [cheshire "5.2.0"]
                 [org.clojure/tools.cli "0.3.1"]
                 [amazonica "0.2.11"]
                 [clipchat "1.0.0-SNAPSHOT"]
                 [clj-ssh "0.5.7"]
                 [clj-time "0.6.0"]
                 [ring-server "0.3.1"]
                 [ring/ring-json "0.1.2"]
                 [ring/ring-jetty-adapter "1.2.2"]
                 [com.h2database/h2 "1.3.175"]
                 [domina "1.0.2"]
                 [environ "0.4.0"]
                 [com.taoensso/timbre "3.1.6"]
                 [prismatic/dommy "0.1.2"]
                 [korma "0.3.0-RC6"]
                 [org.clojure/clojurescript "0.0-2138"]
                 [org.clojure/data.json "0.2.4"]
                 [http-kit "2.1.13"]
                 [com.taoensso/tower "2.0.2"]
                 [log4j "1.2.17" :exclusions [javax.mail/mail
                                              javax.jms/jms
                                              com.sun.jdmk/jmxtools
                                              com.sun.jmx/jmxri]]
                 [cljs-ajax "0.2.3"]
                 [lib-noir "0.8.1"]
                 [compojure "1.1.6"]
                 [hiccup "1.0.5"]
                 [slingshot "0.10.3"]
                 [midje     "1.6.3"]
                 [com.taoensso/carmine "2.6.0"]
                 [me.raynes/conch "0.7.0"]
                 [clojurewerkz/quartzite "1.1.0"]]
  :cljsbuild {:builds [{:source-paths ["src-cljs"],
                        :compiler
                        {:pretty-print false,
                         :output-to "resources/public/js/site.js",
                         :optimizations :advanced}}]}
  :ring {:handler flowjob.handler/app,
         :init flowjob.handler/init,
         :destroy flowjob.handler/destroy}
  :profiles {:uberjar { :aot :all
                        :ring {:open-browser? false
                               :stacktraces? false
                               :auto-reload? false}
                        :env  {:env-name    "prod"
                               :hipchat     true
                               :redis       "redis://flowjob-pubsub.rjwcfd.0001.use1.cache.amazonaws.com:6379/"
                               :command-dir "/var/www/invisiblehand-products/current/"
                               :client-log-dir "/mnt/applogs/flowjob-client/"}}

             :dev {        :dependencies [[ring/ring-devel "1.2.2"]
                                          [ring-mock "0.1.5"]
                                          [midje      "1.6.3"]]
                           :plugins      [[lein-midje "3.1.1"]
                                          [cider/cider-nrepl "0.7.0"]]
                           :env { :env-name    "dev"
                                  :hipchat     false
                                  :redis       "redis://localhost:6379/"
                                  :command-dir "/var/www/invisiblehand-products/current/"
                                  :client-log-dir "/mnt/applogs/flowjob-client/"}}}
  :main flowjob.core
  :plugins [[lein-ring "0.8.10"]
            [lein-environ "0.4.0"]
            [lein-cljsbuild "0.3.3"]]
  :min-lein-version "2.0.0")
